# $Id$

SRC = ncbithr ncbidiag ncbiexpt ncbistre ncbiapp ncbireg ncbienv ncbiargs \
      ncbistr ncbiobj ncbitime ncbimtx ncbi_safe_static ncbi_system ncbifile \
      ncbidbg ncbidll ncbiexec ncbicfg $(ncbicntr) ddumpable version metareg \
      env_reg ncbiatomic ncbi_process plugin_manager ncbidiag_p ncbi_config \
      obj_store plugin_manager_store ncbimempool syslog ncbi_param \
      blob_storage rwstreambuf stream_utils ncbi_stack

UNIX_SRC = ncbi_os_unix

LIB = xncbi

LIBS = $(DL_LIBS) $(ORIG_LIBS)

# Special build rules for WorkShop
ncbicntr_workshop.o: $(srcdir)/ncbicntr_workshop.il $(srcdir)/ncbicntr_workshop.cpp
	$(CXX_WRAPPER) $(CXX) $(CXXFLAGS_ALL:-O%=) $(srcdir)/ncbicntr_workshop.il $(srcdir)/ncbicntr_workshop.cpp -o $@ $(CXX_FILTER)
ncbiatomic_workshop.o: $(srcdir)/ncbicntr_workshop.il $(srcdir)/ncbiatomic_workshop.c
	$(CC_WRAPPER) $(CC) $(CFLAGS_ALL:-O%=) $(srcdir)/ncbicntr_workshop.il $(srcdir)/ncbiatomic_workshop.c -o $@ $(CC_FILTER)
