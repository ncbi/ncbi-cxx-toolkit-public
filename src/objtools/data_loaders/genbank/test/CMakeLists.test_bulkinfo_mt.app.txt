#############################################################################
# $Id$
#############################################################################

NCBI_begin_app(test_bulkinfo_mt)
  NCBI_sources(test_bulkinfo_mt bulkinfo_tester)
  NCBI_uses_toolkit_libraries(ncbi_xdbapi_ftds ncbi_xloader_genbank ncbi_xreader_pubseqos ncbi_xreader_pubseqos2 test_mt xobjutil)
  NCBI_project_watchers(vasilche)

  NCBI_set_test_assets(bad_len.ids wgs.ids all_readers.sh ref)
  NCBI_set_test_timeout(800)

  NCBI_begin_test(test_bulkinfo_mt_gi)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type gi -reference ref/0.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_acc)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type acc -reference ref/0.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_label)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type label -reference ref/0.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_taxid)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type taxid -reference ref/0.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_length)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo_mt -type length -threads 8 -reference ref/0.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_type)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo_mt -type type -threads 8 -reference ref/0.type.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_state)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type state -reference ref/0.state.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type hash -no-recalc -reference ref/0.hash.txt)
  NCBI_end_test()


  NCBI_begin_test(test_bulkinfo_mt_wgs_gi)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type gi -idlist wgs.ids -reference ref/wgs.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_acc)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type acc -idlist wgs.ids -reference ref/wgs.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_label)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type label -idlist wgs.ids -reference ref/wgs.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_taxid)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type taxid -idlist wgs.ids -reference ref/wgs.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_length)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type length -idlist wgs.ids -reference ref/wgs.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_types)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type type -idlist wgs.ids -reference ref/wgs.type.txt)
  NCBI_end_test()
#  NCBI_begin_test(test_bulkinfo_mt_wgs_state)
#   NCBI_set_test_command(all_readers.sh -xid2 test_bulkinfo_mt -type state -idlist wgs.ids -reference ref/wgs.state.txt)
#  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_state_id2)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo_mt -type state -idlist wgs.ids)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_wgs_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type hash -idlist wgs.ids -no-recalc -reference ref/wgs.hash.txt)
  NCBI_end_test()


  NCBI_begin_test(test_bulkinfo_mt_bad_gi)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type gi -idlist bad_len.ids -reference ref/bad_len.gi.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_acc)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type acc -idlist bad_len.ids -reference ref/bad_len.acc.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_label)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type label -idlist bad_len.ids -reference ref/bad_len.label.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_taxid)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type taxid -idlist bad_len.ids -reference ref/bad_len.taxid.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_length)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type length -idlist bad_len.ids -reference ref/bad_len.length.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_types)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type type -idlist bad_len.ids -reference ref/bad_len.type.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_state)
    NCBI_set_test_command(all_readers.sh -xid2 test_bulkinfo_mt -type state -idlist bad_len.ids -reference ref/bad_len.state.txt)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_state_id2)
    NCBI_set_test_command(all_readers.sh -id2 test_bulkinfo_mt -type state -idlist bad_len.ids)
  NCBI_end_test()
  NCBI_begin_test(test_bulkinfo_mt_bad_hash)
    NCBI_set_test_command(all_readers.sh test_bulkinfo_mt -type hash -idlist bad_len.ids -reference ref/bad_len.hash.txt)
  NCBI_end_test()
NCBI_end_app()

