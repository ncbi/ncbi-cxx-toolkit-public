# $Id$

NCBI_begin_app(bamindex_test)
  NCBI_sources(bamindex_test bam_test_common)
  NCBI_uses_toolkit_libraries(bamread xobjreadex)
  NCBI_project_watchers(vasilche)

  NCBI_set_test_requires(in-house-resources -MSWin)
  NCBI_begin_test(bamindex_test_bai1)
    NCBI_set_test_command(bamindex_test -file NA10851.chrom20.ILLUMINA.bwa.CEU.low_coverage.20111114.bam -index_type bai -q 20 -overlap -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_csi1)
    NCBI_set_test_command(bamindex_test -file NA10851.chrom20.ILLUMINA.bwa.CEU.low_coverage.20111114.bam -index_type csi -q 20 -overlap -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_bai2)
    NCBI_set_test_command(bamindex_test -file hs108_sra.fil_sort.chr1.bam -index_type bai -q NC_000001.11 -overlap -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_csi2)
    NCBI_set_test_command(bamindex_test -file hs108_sra.fil_sort.chr1.bam -index_type csi -q NC_000001.11 -overlap -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_bai3)
    NCBI_set_test_command(bamindex_test -file NA19240.mapped.SOLID.bfast.YRI.exome.20111114.bam -index_type bai -q Y,hs37d5 -overstart -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_csi3)
    NCBI_set_test_command(bamindex_test -file NA19240.mapped.SOLID.bfast.YRI.exome.20111114.bam -index_type csi -q Y,hs37d5 -overstart -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_bai4)
    NCBI_set_test_command(bamindex_test -file NA10851.SLX.maq.SRP000031.2009_08.bam -index_type bai -q Y,NT_113965 -overstart -limit_count 1)
  NCBI_end_test()
  NCBI_begin_test(bamindex_test_csi4)
    NCBI_set_test_command(bamindex_test -file NA10851.SLX.maq.SRP000031.2009_08.bam -index_type csi -q Y,NT_113965 -overstart -limit_count 1)
  NCBI_end_test()
NCBI_end_app()
