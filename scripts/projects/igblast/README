There are two command line programs for igblast...igblastn and igblastp.  The former is for nucleotide 
sequence and the latter is for protein sequences.

igblastn:

1.  Required files. 
1).       Blast database files for searching germline V, D, and J genes.  You can specify any germline 
databases you like (using -germline_db_V, -germline_db_J and -germline_db_D options).   
The NCBI mouse germline gene databases (i.e., mouse_gl_V, etc.) are supplied with igblastn program 
(see http://www.ncbi.nlm.nih.gov/igblast/ about database details).
  
To search IMGT germline sequences, you need to download them from IMGT web site 
(http://www.imgt.org/IMGT_vquest/share/textes/ ).  You need to download all V, D and J sequences for whatever 
organisms you are interested in.  Combine all V and all J sequences, respectively, into a separate file (i.e., 
one file for all V sequences and one file all for J sequences).  After you have downloaded the sequences, 
invoke our utility tool edit_imgt_file.pl (download from the release/ directory) to process the sequences (to change 
 the long IMGT definition lines to germline gene names only).  For example:

./edit_imgt_file.pl imgt_file > my_seq_file

Then you can use NCBI's makeblastdb tool to make the blast database from the output file.  For example:

makeblastdb -parse_seqids -dbtype nucl -in my_seq_file

Now you can use my_seq_file as blast database file for igblast.

2).    Igblast internal data files (download from the release/ directory).  This directory contains data internal to 
igblast program only and users should NEVER add, delete, move, copy or edit any files in this directory.  
Igblastn program expects the internal_data directory under current directory (i.e., where the igblast 
program is) or a path pointed to by IGDATA environmental variable.  Note that this directory does NOT contain
 any germline gene databases you should search (see above for how you can obtain a germline gene database).

2.  Optional files (download from the release/ directory):
This is the file to indicate germline J gene coding frame start position (position is 0-based), the J gene type, 
and the CDR3 end position for each sequence in the germline J sequence database (Fields are tab-delimited).

Note that the supplied file contains only information for NCBI or IMGT  germline gene sequence database 
(including gene names as well as the sequences).   If you search your own database and if it contains different 
sequences or sequence identifiers, then you need to edit that file (or supply your own file) to reflect that 
or you won't get proper frame status or CDR3 information (other results will still be shown correctly).  
See human_gl.aux or mouse_gl.aux for examples.  Enter -1 if the frame information is unknown.  
You need to use -auxiliary_data option to specify your file. You can directly supply a path to this file or 
put it under a path pointed to by IGDATA environmental variable.
 
3.  Some examples.
1).  Searching germline gene database
a).  To query one or more mouse Ig sequences (contained in myseq) against NCBI mouse germline gene 
database with standard text alignment result format (you can type "./igblastn -help" to see details on all 
input parameters and the default setting, particularly those under IgBLAST options):
./igblastn -germline_db_V mouse_gl_V -germline_db_J mouse_gl_J -germline_db_D mouse_gl_D -
organism mouse -domain_system kabat -query myseq -auxiliary_data optional_file/mouse_gl.aux -
show_translation -outfmt 3

b).  To query one or more mouse T cell receptor sequences (contained in myseq) against imgt mouse 
germline gene database:
./igblastn -germline_db_V imgt_tcr_db_v -germline_db_J imgt_tcr_db_j -germline_db_D imgt_tcr_db -
organism mouse -domain_system imgt -query myseq -ig_seqtype TCR -auxiliary_data 
optional_file/mouse_gl.aux -show_translation -outfmt 3

c).  To query one or human Ig sequences (contained in myseq) against custom database such as Andew 
Collins IGH repertoire database:
./igblastn -germline_db_V UNSWIgVRepertoire_fasta.txt -germline_db_J UNSWIgJRepertoire_fasta.txt -
germline_db_D UNSWIgDRepertoire_fasta.txt -organism human -domain_system kabat -query myseq  -
auxiliary_data optional_file/human_gl.aux -show_translation
Please be aware that you need to specify your own coding frame start and chain_type information (see 
details on optional files above) if your custom database has different sequence entries from NCBI or 
IMGT database.  

2).  Searching other databases in addition to germline database.
Igblast allows you to search an additional database (such as NCBI nr database) as well as the germline 
database at the same time.  You'll get hits from germline sequences followed by hits from non-germline 
database.
You MUST use -db option to specify the non-germline database which may not contain any sequences 
identifiers that exist in germline databases.  Note this option is ONLY for non-germline database 
(germline databases MUST be used with -germline_db_V, -germline_db_D or -germline_db_J option).  
a).  To query one or more mouse Ig sequences (contained in myseq) against NCBI  nr database:
./igblastn -germline_db_V mouse_gl_V -germline_db_J mouse_gl_J -germline_db_D mouse_gl_D -
organism mouse -domain_system kabat -query myseq -auxiliary_data optional_file/mouse_gl.aux -
show_translation -outfmt 3 -db nr -remote 

Note the -remote option used with this search...-remote option directs igblast to send nr database 
searching to NCBI server which typically is much faster.
 
igblastp:
The parameters are similar to those of igblastn except it does not need germline D database, germline J 
database and optional file.  igblastp only performs search against V gene database.

Some examples:
  
1).  Searching mouse Ig sequence against mouse germline gene database
 
./igblastp -germline_db_V mouse_gl_V -query myseq.prot -outfmt 3 -organism mouse

2).  Searching other databases in addition to germline database.

./igblastp -germline_db_V mouse_gl_V -query myseq.prot -outfmt 3 -organism mouse -db nr –remote


Other notes:

The V gene domain annotation only works for IMGT annotation system for TCR sequences.
