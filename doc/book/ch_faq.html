<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>FAQs, Useful Documentation Links, and Mailing Lists - The NCBI C++ Toolkit Book [Internet] - NCBI</title><meta name="description" content="A comprehensive manual on the NCBI C++ toolkit, including its design and development framework, a C++ library reference, software examples and demos, FAQs and release notes." /><meta name="robots" content="index,nofollow,noarchive" /><meta name="page_id" content="ch_faq" /><meta name="page_type" content="chapter" /><meta name="ncbipopper" content="triggerPosition:'bottom left',destPosition:'top left',openEvent:'click',closeEvent:'click'" /><script type="text/javascript" src="js/jig/1.7/js/jig.min.js"></script><script type="text/javascript" src="js/toolkitSymbolSearch.js"></script><link type="text/css" rel="stylesheet" href="css/ptbooks.css" /><link type="text/css" rel="stylesheet" href="css/toolkit.css" /></head><body><div class="grid no_max_width"><div class="col twelve_col nomargin shadow"><div class="content"><div class="col eight_col"><div class="nvgtn"><a href="#__nav_cntnt" class="jig-ncbipopper">Contents ▾</a><div style="display:none;width:700px;height:500px;overflow:auto;" id="__nav_cntnt"><a class="right" href="toc.html">Table of Contents Page</a><ul class="simple-list"><li class="half_rhythm"><a href="toolkit.fm.html">Book Information</a></li><li class="half_rhythm"><a href="part1.html">Part 1. Overview</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_intro.html">1. Introduction to the C++ Toolkit</a></li><li class="half_rhythm"><a href="ch_start.html">2. Getting Started</a></li></ul></li><li class="half_rhythm"><a href="part2.html">Part 2. Development Framework</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_getcode_svn.html">3. Retrieve the Source Code (FTP and Subversion)</a></li><li class="half_rhythm"><a href="ch_config.html">4. Configure, Build, and Use the Toolkit</a></li><li class="half_rhythm"><a href="ch_build.html">5. Working with Makefiles</a></li><li class="half_rhythm"><a href="ch_proj.html">6. Project Creation and Management</a></li><li class="half_rhythm"><a href="ch_style.html">7. Programming Policies and Guidelines</a></li></ul></li><li class="half_rhythm"><a href="part3.html">Part 3. C++ Toolkit Library Reference</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_core.html">8. Portability, Core Functionality and Application Framework</a></li><li class="half_rhythm"><a href="ch_conn.html">9. Networking and IPC</a></li><li class="half_rhythm"><a href="ch_dbapi.html">10. Database Access - SQL, Berkley DB</a></li><li class="half_rhythm"><a href="ch_cgi.html">11. CGI and Fast-CGI </a></li><li class="half_rhythm"><a href="ch_html.html">12. HTML</a></li><li class="half_rhythm"><a href="ch_ser.html">13. Data Serialization (ASN.1, XML)</a></li><li class="half_rhythm"><a href="ch_datamod.html">14. Biological Sequence Data Model</a></li><li class="half_rhythm"><a href="ch_objmgr.html">15. Biological Object Manager</a></li><li class="half_rhythm"><a href="ch_blast.html">16. BLAST API</a></li><li class="half_rhythm"><a href="ch_dataaccess.html">17. Access to NCBI data</a></li><li class="half_rhythm"><a href="ch_algoalign.html">18. Biological Sequence Alignment</a></li><li class="half_rhythm"><a href="ch_gui.html">19. GUI and Graphics</a></li><li class="half_rhythm"><a href="ch_boost.html">20. Using the Boost Unit Test Framework</a></li></ul></li><li class="half_rhythm"><a href="part4.html">Part 4. Wrappers for 3rd-Party Packages</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_xmlwrapp.html">21. XmlWrapp (XML parsing and handling, XSLT, XPath)</a></li></ul></li><li class="half_rhythm"><a href="part5.html">Part 5. Software</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_debug.html">22. Debugging, Exceptions, and Error Handling</a></li><li class="half_rhythm"><a href="ch_grid.html">23. Distributed Computing</a></li><li class="half_rhythm"><a href="ch_app.html">24. Applications</a></li><li class="half_rhythm"><a href="ch_demo.html">25. Examples and Demos</a></li><li class="half_rhythm"><a href="ch_res.html">26. C Toolkit Resources for C++ Toolkit Users</a></li></ul></li><li class="half_rhythm"><a href="part6.html">Part 6. Help and Support</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_browse.html">27. NCBI C++ Toolkit Source Browser</a></li><li class="half_rhythm"><a href="ch_devtools.html">28. Software Development Tools</a></li><li class="half_rhythm"><a href="ch_xmlauthor.html">29. XML Authoring using Word</a></li><li class="half_rhythm"><a href="ch_faq.html">30. FAQs, Useful Documentation Links, and Mailing Lists</a></li></ul></li><li class="half_rhythm"><a href="part7.html">Part 7. Library and Applications Configuration</a><ul class="simple-list"><li class="half_rhythm"><a href="ch_libconfig.html">31. Library Configuration</a></li></ul></li><li class="half_rhythm"><a href="part8.html">Release Notes</a><ul class="simple-list"><li class="half_rhythm"><a href="release_notes.html">Release Notes (Version 9, May 2012)</a></li><li class="half_rhythm"><a href="release_notes_7-05_2011.html">Release Notes (Version 7, May 2011)</a></li><li class="half_rhythm"><a href="release_notes_06_29_2010.html">Release Notes (June, 2010)</a></li><li class="half_rhythm"><a href="release_notes_05_15_2009.html">Release Notes (May, 2009)</a></li><li class="half_rhythm"><a href="release_notes_12_24_2008.html">Release Notes (December, 2008)</a></li><li class="half_rhythm"><a href="release_notes_12_31_2008.html">Release Notes (March, 2008)</a></li><li class="half_rhythm"><a href="release_notes_08_27_2007.html">Release Notes (August, 2007)</a></li><li class="half_rhythm"><a href="release_notes_03_12_2007.html">Release Notes (March, 2007)</a></li><li class="half_rhythm"><a href="release_notes_08_14_2006.html">Release Notes (August, 2006)</a></li><li class="half_rhythm"><a href="release_notes_04_30_2006.html">Release Notes (April 30, 2006)</a></li><li class="half_rhythm"><a href="release_notes_12_31_2005.html">Release Notes (December 31, 2005)</a></li><li class="half_rhythm"><a href="release_notes_10_03_2005.html">Release Notes (August, 2005)</a></li><li class="half_rhythm"><a href="release_notes_05_05_2005.html">Release Notes (April, 2005)</a></li><li class="half_rhythm"><a href="release_notes_03_09_2005.html">Release Notes (February, 2005)</a></li><li class="half_rhythm"><a href="release_notes_11_22_2004.html">Release Notes (November 22, 2004)</a></li><li class="half_rhythm"><a href="release_notes_10_2_2004.html">Release Notes (October 2, 2004)</a></li><li class="half_rhythm"><a href="release_notes_7_8_2004.html">Release Notes (July 8, 2004)</a></li><li class="half_rhythm"><a href="release_notes_april_16_2004.html">Release Notes (April 16, 2004)</a></li><li class="half_rhythm"><a href="release_notes_12_08_2003.html">Release Notes (December 8, 2003)</a></li><li class="half_rhythm"><a href="release_notes_08_01_2003.html">Release Notes (August 1, 2003)</a></li></ul></li><li class="half_rhythm"><a href="app1.appendix1.html">Appendix - Books and Styles</a></li></ul></div><div class="pagination"><a class="pagelink active prev" title="Previous page" href="ch_xmlauthor.html">&lt; Prev</a><a class="pagelink active next" title="Next page" href="part7.html">Next &gt;</a></div></div><div class="meta_content"><h1><span class="label">30</span><span class="title">FAQs, Useful Documentation Links, and Mailing Lists</span></h1><p class="small">Last Update: August 27, 2012.</p></div><div class="body_content"><div class="sec"><h2><span class="title">Overview</span></h2><p>The overview for this chapter consists of the following topics:</p><ul><li><p>Introduction</p></li><li><p>Chapter Outline</p></li></ul><div class="sec"><h3><span class="title">Introduction</span></h3><p>This chapter contains frequently asked questions and useful links.</p></div><div class="sec"><h3><span class="title">Chapter Outline</span></h3><ul><li><p><a href="ch_faq.html#ch_faq.">FAQs</a></p><ul><li><p><a href="ch_faq.html#ch_faq.Security">Security</a></p><ul><li><p><a href="ch_faq.html#ch_faq.How_do_I_prevent_SQL_Injection_at">How do I prevent SQL Injection attacks?</a></p></li><li><p><a href="ch_faq.html#ch_faq.How_do_I_prevent_CrossSite_Script">How do I prevent Cross-Site Scripting (XSS) attacks?</a></p></li></ul></li><li><p><a href="ch_faq.html#ch_faq.general">General</a></p><ul><li><p><a href="ch_faq.html#ch_faq.How_do_I_prepare_my_development_e">How do I prepare my development environment for using the C++ Toolkit?</a></p></li><li><p><a href="ch_faq.html#ch_faq.faq.CannotFindGetTypeInfo">The GetTypeInfo() method is not declared or defined in any of the objects for which it is part of the interface?</a></p></li><li><p><a href="ch_faq.html#ch_faq.ref_WhichIncludeFile">Which include file should be used in *.cpp files, class.hpp or class_.hpp?</a></p></li><li><p><a href="ch_faq.html#ch_faq.How_can_I_disable_the_XML_declara">How can I disable the XML declaration or DOCTYPE with the serial library?</a></p></li></ul></li><li><p><a href="ch_faq.html#ch_faq.Compiling">Compiling</a></p><ul><li><p><a href="ch_faq.html#ch_faq.How_do_I_compile_for_32bit_on_a_6">How do I compile for 32-bit on a 64-bit machine in a typical C++ Toolkit app?</a></p></li><li><p><a href="ch_faq.html#ch_faq.Which_Visual_C_project_should_I_b">Which Visual C++ project should I build?</a></p></li><li><p><a href="ch_faq.html#ch_faq.What_compiler_options_are_require">What compiler options are required to be compatible with C++ Toolkit libraries?</a></p><ul><li><p><a href="ch_faq.html#ch_faq.Checked_iterators">Checked iterators</a></p></li><li><p><a href="ch_faq.html#ch_faq.C_exceptions">C++ exceptions</a></p></li><li><p><a href="ch_faq.html#ch_faq.Runtime_library">Runtime library</a></p></li></ul></li></ul></li><li><p><a href="ch_faq.html#ch_faq.linker">Linking</a></p><ul><li><p><a href="ch_faq.html#ch_faq.faq.CannotFindObjectSymbol">How does one find the libraries to link when the linker complains of undefined symbols?</a></p></li><li><p><a href="ch_faq.html#ch_faq.How_do_I_add_a_library_to_a_Visua">How do I add a library to a Visual C++ project?</a></p></li><li><p><a href="ch_faq.html#ch_faq.ref_CannotFindSymbol">Linker complains it "cannot find symbol" in something like: "SunWS_cache/CC_obj_b/bXmZkg3zX5VBJvYgjABX.o"</a></p></li><li><p><a href="ch_faq.html#ch_faq.ref_HowMakeDep">MAKE complains it does not know "how to make target: /home/qqq/c++/WorkShop6-Debug/lib/.seqset.dep"</a></p></li><li><p><a href="ch_faq.html#ch_faq.ref_LastResort">Still getting bizarre errors with unresolved symbols, unfound libraries, etc., and nothing seems to help out much</a></p></li></ul></li><li><p><a href="ch_faq.html#ch_faq.debugger">Debugging</a></p><ul><li><p><a href="ch_faq.html#ch_faq.ref_DBX_Sources">Debugger (DBX) warns it "cannot find file /home/coremake/c++/foobar.cpp", then it does not show source code</a></p></li></ul></li><li><p><a href="ch_faq.html#ch_faq.asn">ASN</a></p><ul><li><p><a href="ch_faq.html#ch_faq.ref_AddingUserASN">Creating an out-of-tree application that uses your own local ASN.1 spec and a pre-built C++ Toolkit</a></p></li><li><p><a href="ch_faq.html#ch_faq.ref_AddingASN">How to add new ASN.1 module from the C Toolkit to the C++ Toolkit?</a></p></li><li><p><a href="ch_faq.html#ch_faq.ref_CToCxxASN">Converting ASN.1 object in memory from C to C++ representation (or vice versa) </a></p></li></ul></li></ul></li><li><p><a href="ch_faq.html#ch_faq.links.html">Useful Documentation Links</a></p></li><li><p><a href="ch_faq.html#ch_faq.mailing_lists">Mailing Lists</a></p></li></ul></div></div><div class="sec" id="ch_faq."><h2><span class="title">FAQs</span></h2><div class="sec" id="ch_faq.Security"><h3><span class="title">Security</span></h3><p>Following are some of the common questions regarding security. If you have a different question, or if these questions don't fully address your concern, please email your question to cpp-core@ncbi.nlm.nih.gov.</p><ul><li><p><a href="ch_faq.html#ch_faq.How_do_I_prevent_SQL_Injection_at">How do I prevent SQL Injection attacks?</a></p></li><li><p><a href="ch_faq.html#ch_faq.How_do_I_prevent_CrossSite_Script">How do I prevent Cross-Site Scripting (XSS) attacks?</a></p></li></ul><div class="sec" id="ch_faq.How_do_I_prevent_SQL_Injection_at"><h4><span class="title">How do I prevent SQL Injection attacks?</span></h4><p>Summary:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">No SQL EVER passed in by a user is allowed.</p></dd><dt>2</dt><dd><p class="no_top_margin">Use stored procedures whenever possible.</p></dd><dt>3</dt><dd><p class="no_top_margin">If stored procedures are not possible, and if the SQL statement needs to be constructed from user input, use parameterized SQL whenever possible.</p></dd><dt>4</dt><dd><p class="no_top_margin">If constructing dynamic SQL from user input is unavoidable, you MUST sanitize the user input.</p></dd></dl><p>Please see the NCBI document "<a href="https://sp.ncbi.nlm.nih.gov/IEB/ISS/dbas/Shared%20Documents/SQL%20Security%20and%20Hygiene.doc">SQL Security and Hygiene</a>" for more details.</p><p>Sample code is also available for <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/source/src/sample/app/sdbapi/">SDBAPI</a> and <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/source/src/sample/app/dbapi/">DBAPI</a>.</p><p>For more information on using a database from your application, see the "<a href="http://www.ncbi.nlm.nih.gov/books/n/toolkit/ch_dbapi">Database Access</a>" chapter of the C++ Toolkit book.</p></div><div class="sec" id="ch_faq.How_do_I_prevent_CrossSite_Script"><h4><span class="title">How do I prevent Cross-Site Scripting (XSS) attacks?</span></h4><p>NEVER trust user-supplied strings - always sanitize them before using them.</p><div class="table" id="ch_faq.T.nc_before_including_a_usersuppl"><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1">Before including a user-supplied string in:</th><th align="left" valign="top" rowspan="1" colspan="1">Sanitize the string with:</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">a URL</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=URLEncode"><span class="nctnt ncbi-func">NStr::URLEncode()</span></a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">JavaScript</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=JavaScriptEncode"><span class="nctnt ncbi-func">NStr::JavaScriptEncode()</span></a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">XML</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=XmlEncode"><span class="nctnt ncbi-func">NStr::XmlEncode()</span></a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">HTML</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=HtmlEncode"><span class="nctnt ncbi-func">NStr::HtmlEncode()</span></a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">JSON</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=JsonEncode"><span class="nctnt ncbi-func">NStr::JsonEncode()</span></a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">SQL</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=SQLEncode"><span class="nctnt ncbi-func">NStr::SQLEncode()</span></a></td></tr></tbody></table></div><p><span class="nctnt highlight">Note:</span> In addition to sanitizing URLs with <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=URLEncode">NStr::URLEncode()</a>, the <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml/classCUrl.html">CUrl</a> class can be used to take apart and reassemble a URL. If the original URL was malformed an error would be produced. At the very least, improper URL segments would be mangled.</p></div></div><div class="sec" id="ch_faq.general"><h3><span class="title">General</span></h3><div class="sec" id="ch_faq.How_do_I_prepare_my_development_e"><h4><span class="title">How do I prepare my development environment for using the C++ Toolkit?</span></h4><p>That depends on your development environment and whether you are inside or outside of NCBI:</p><ul><li><p><a href="ch_faq.html#ch_faq.Unix_or_Mac_OS_X_inside_NCBI">Unix or Mac OS X inside NCBI</a></p></li><li><p><a href="ch_faq.html#ch_faq.Unix_or_Mac_OX_X_outside_NCBI">Unix or Mac OX X outside NCBI</a></p></li><li><p><a href="ch_faq.html#ch_faq.Windows_inside_NCBI">Windows inside NCBI</a></p></li><li><p><a href="ch_faq.html#ch_faq.Windows_outside_NCBI">Windows outside NCBI</a></p></li></ul><div class="sec" id="ch_faq.Unix_or_Mac_OS_X_inside_NCBI"><h5><span class="title">Unix or Mac OS X inside NCBI</span></h5><p>All developer Unix accounts should be automatically prepared for using the C++ Toolkit. You should have a <span class="nctnt ncbi-path">~/.ncbi_hints</span> file with a non-trivial <span class="nctnt ncbi-monospace">facilities</span> line that will be sourced when logging in. If everything is set up properly, the following commands should provide meaningful output:</p><pre><span class="nctnt-pre ncbi-cmd">svn --version<br />new_project<br />echo $NCBI</span></pre></div><div class="sec" id="ch_faq.Unix_or_Mac_OX_X_outside_NCBI"><h5><span class="title">Unix or Mac OX X outside NCBI</span></h5><p>After <a href="ch_getcode_svn.html#ch_getcode_svn.ftp_download">downloading the Toolkit source</a>, set environment variable <span class="nctnt ncbi-var">NCBI</span> to <span class="nctnt ncbi-path">&lt;toolkit_root&gt;</span> (where <span class="nctnt ncbi-path">&lt;toolkit_root&gt;</span> is the top-level directory containing <span class="nctnt ncbi-path">configure</span>) and add <span class="nctnt ncbi-path">$NCBI/scripts/common</span> to your <span class="nctnt ncbi-var">PATH</span>.</p><p>Once the Toolkit is <a href="ch_config.html#ch_config.UNIX">configured and built</a>, then you can use it.</p></div><div class="sec" id="ch_faq.Windows_inside_NCBI"><h5><span class="title">Windows inside NCBI</span></h5><p>A <a href="release_notes.html#release_notes.Platforms_OSs__compi">supported version of MSVC</a> must be installed.</p><p>A Subversion client must be installed. For help on that, please see <span class="nctnt ncbi-path">\\snowman\win-coremake\App\ThirdParty\Subversion</span>. To make sure subversion is working, enter <span class="nctnt ncbi-cmd">svn --version</span> in your <span class="nctnt ncbi-cmd">cmd.exe</span> shell.</p><p>Your <span class="nctnt ncbi-monospace">PATH</span> should include <span class="nctnt ncbi-path">\\snowman\win-coremake\Scripts\bin</span>.</p><p>If you want to step into the source for the C++ Toolkit libraries while debugging, then drive <span class="nctnt ncbi-path">S:</span> must be mapped to <span class="nctnt ncbi-path">\\snowman\win-coremake\Lib</span>. You can map it or let the <span class="nctnt ncbi-cmd">new_project</span> script map it for you.</p></div><div class="sec" id="ch_faq.Windows_outside_NCBI"><h5><span class="title">Windows outside NCBI</span></h5><p>A <a href="release_notes.html#release_notes.Platforms_OSs__compi">supported version of MSVC</a> must be installed.</p><p><a href="ch_getcode_svn.html#ch_getcode_svn.ftp_download">Download the Toolkit source</a>.</p><p>Once the Toolkit is <a href="ch_config.html#ch_config.MS_Windows">configured and built</a>, then you can use it.</p></div></div><div class="sec" id="ch_faq.faq.CannotFindGetTypeInfo"><h4><span class="title">The <span class="nctnt ncbi-func">GetTypeInfo()</span> method is not declared or defined in any of the objects for which it is part of the interface</span></h4><p>The macro DECLARE_INTERNAL_TYPE_INFO() is used in the <span class="nctnt ncbi-path">*.hpp</span> files to declare the <span class="nctnt ncbi-func">GetTypeInfo()</span>. There are several macros that are used to implement <span class="nctnt ncbi-func">GetTypeInfo()</span> methods in <span class="nctnt ncbi-path">*.cpp</span> files. These macros are generally named and used as follows:</p><pre><span class="nctnt-pre ncbi-cmd">BEGIN_*_INFO(...)<br />{<br />    ADD_*(...)<br />    ...<br />}</span></pre><p>See <a href="ch_ser.html#ch_ser.usrtypeinfo.html">User-defined Type Information in the Programming Manual</a> for more information.</p></div><div class="sec" id="ch_faq.ref_WhichIncludeFile"><h4><span class="title">Which include file should be used in *.cpp files, class.hpp or class_.hpp?</span></h4><p>Include the <b>class</b>.hpp (file without underscore). Never instantiate or use a class of the form C*_Base directly. Instead use the C* form which inherits from the C*_Base class (e.g., don't use CSeq_id_Base directly -- use CSeq_id instead).</p></div><div class="sec" id="ch_faq.How_can_I_disable_the_XML_declara"><h4><span class="title">How can I disable the XML declaration or DOCTYPE with the serial library?</span></h4><p>Here's a code snippet that shows all combinations:</p><pre><span class="nctnt-pre ncbi-code">// serialize XML with both an XML declaration and with a DOCTYPE (default)<br />ostr &lt;&lt; MSerial_Xml &lt;&lt; obj;<br /><br />// serialize XML without an XML declaration<br />ostr &lt;&lt; MSerial_Xml(fSerial_Xml_NoXmlDecl) &lt;&lt; obj;<br /><br />// serialize XML without a DOCTYPE<br />ostr &lt;&lt; MSerial_Xml(fSerial_Xml_NoRefDTD) &lt;&lt; obj;<br /><br />// serialize XML without either an XML declaration or a DOCTYPE<br />ostr &lt;&lt; MSerial_Xml(fSerial_Xml_NoXmlDecl | fSerial_Xml_NoRefDTD) &lt;&lt; obj;</span></pre><p><span class="nctnt highlight">Note:</span> The serial library can read XML whether or not it contains the XML declaration or DOCTYPE without using special flags. For example:</p><pre><span class="nctnt-pre ncbi-code">istr &gt;&gt; MSerial_Xml &gt;&gt; obj;</span></pre></div></div><div class="sec" id="ch_faq.Compiling"><h3><span class="title">Compiling</span></h3><div class="sec" id="ch_faq.How_do_I_compile_for_32bit_on_a_6"><h4><span class="title">How do I compile for 32-bit on a 64-bit machine in a typical C++ Toolkit app?</span></h4><p>Our 64-bit Linux systems only support building 64-bit code; to produce 32-bit binaries, you'll need a 32-bit system.</p></div><div class="sec" id="ch_faq.Which_Visual_C_project_should_I_b"><h4><span class="title">Which Visual C++ project should I build?</span></h4><p>After creating a new project, you may notice quite a few projects appear in the solution, besides your program, and that the <b>-HIERARCHICAL-VIEW-</b> project is bold (indicating that it's the startup project). Do not build any of these projects or the solution as a whole. Instead, set your program as the default startup project and build it.</p><p>You can build <b>-CONFIGURE-DIALOG-</b> if you need to reconfigure your project (see the section on <a href="ch_config.html#ch_config.Configuring_with_the_Java_GUI">using the configuration GUI</a>), and you will need to build <b>-CONFIGURE-</b> if you add libraries (see the question below on <a href="ch_faq.html#ch_faq.How_do_I_add_a_library_to_a_Visua">adding a library to a Visual C++ project</a>).</p></div><div class="sec" id="ch_faq.What_compiler_options_are_require"><h4><span class="title">What compiler options are required to be compatible with C++ Toolkit libraries?</span></h4><p>These compiler options must be properly set under Microsoft Visual C++:</p><ul><li><p><a href="ch_faq.html#ch_faq.Checked_iterators">Checked iterators</a></p></li><li><p><a href="ch_faq.html#ch_faq.C_exceptions">C++ exceptions</a></p></li><li><p><a href="ch_faq.html#ch_faq.Runtime_library">Runtime library</a></p></li></ul><div class="sec" id="ch_faq.Checked_iterators"><h5><span class="title">Checked iterators</span></h5><p>Microsoft Visual C++ provides the option of using "Checked Iterators" to ensure that you do not overwrite the bounds of your STL containers. Checked iterators have a different internal structure than, and are therefore incompatible with, non-checked iterators. If both are used in the same program, it will probably crash. Checked iterators also have somewhat lower performance than non-checked iterators.</p><p>Therefore, when building with Visual C++, you must ensure that the same checked iterators setting is used for all compilation units that use STL iterators. This includes the Visual C++ standard libraries, the NCBI C++ Toolkit libraries, your code, and any other libraries you link with.</p><p>To disable checked iterators, set <span class="nctnt ncbi-monospace">_SECURE_SCL=0</span>; to enable them, set <span class="nctnt ncbi-monospace">_SECURE_SCL=1</span>.</p><p>The Visual C++ defaults for <span class="nctnt ncbi-monospace">_SECURE_SCL</span> are:</p><div class="table" id="ch_faq.T.nc_visual_c_versiondebugrelease"><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1">Visual C++ Version</th><th align="left" valign="top" rowspan="1" colspan="1">Debug</th><th align="left" valign="top" rowspan="1" colspan="1">Release</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">2010</td><td align="left" valign="top" rowspan="1" colspan="1">1</td><td align="left" valign="top" rowspan="1" colspan="1">0</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">2008</td><td align="left" valign="top" rowspan="1" colspan="1">1</td><td align="left" valign="top" rowspan="1" colspan="1">1</td></tr></tbody></table></div><p>By default, the compiler options for NCBI C++ Toolkit libraries do not specify the <span class="nctnt ncbi-monospace">_SECURE_SCL</span> option for debug configurations, and specify <span class="nctnt ncbi-monospace">_SECURE_SCL=0</span> for release configurations. Therefore they use checked iterators for debug configurations, but not for release configurations.</p><p><span class="nctnt highlight">Note:</span> Your code may crash if any two libraries you link with don't use the same settings. For example:</p><ul><li><p>You're building a release configuration using Visual C++ 2008. You build the C++ Toolkit separately and use it as a third party package (in which case it will use <span class="nctnt ncbi-monospace">_SECURE_SCL=0</span>). Your other code and/or other libraries are compiled with default settings (which for release in VS2008 sets <span class="nctnt ncbi-monospace">_SECURE_SCL=1</span>).</p></li><li><p>You're using a third party library that uses different settings than the C++ Toolkit.</p></li></ul><p>If you need to use a different setting for <span class="nctnt ncbi-monospace">_SECURE_SCL</span> than the Toolkit uses, you will have to recompile all Toolkit libraries that you want to link with. To change this setting and rebuild the Toolkit:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Open <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/source/src/build-system/Makefile.mk.in.msvc">src\build-system\Makefile.mk.in.msvc</a>.</p></dd><dt>2</dt><dd><p class="no_top_margin">Edit the <span class="nctnt ncbi-monospace">PreprocessorDefinitions</span> entry in the <span class="nctnt ncbi-monospace">[Compiler.*release]</span> section for the desired configuration(s), using <span class="nctnt ncbi-monospace">_SECURE_SCL=0;</span> or <span class="nctnt ncbi-monospace">_SECURE_SCL=1;</span>.</p></dd><dt>3</dt><dd><p class="no_top_margin">Build the <span class="nctnt ncbi-monospace">-CONFIGURE-</span> project in the solution that contains all the Toolkit libraries you want to use. See the section on <a href="ch_config.html#ch_config.Choosing_a_Build_Scope">choosing a build scope</a> for tips on picking the solution. Ignore the reload solution prompts - when the build completes, then close and reopen the solution.</p></dd><dt>4</dt><dd><p class="no_top_margin">Build the <span class="nctnt ncbi-monospace">-BUILD-ALL-</span> project to rebuild the libraries.</p></dd></dl><p>A similar situation exists for the <span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span> macro, however the C++ Toolkit does not set this macro for either 2008 or 2010, so you are unlikely to encounter any problems due to this setting. It's possible (however unlikely) that other third party libraries could turn this macro off in debug, in which case you'd have to rebuild so the settings for all libraries match.</p><p>By default, <span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span> is turned on in debug but can be turned off. However, it cannot be turned on in release.</p><p>Finally, the macro <span class="nctnt ncbi-monospace">_ITERATOR_DEBUG_LEVEL</span> was introduced with Visual C++ 2010 to simplify the use of <span class="nctnt ncbi-monospace">_SECURE_SCL</span> and <span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span>.</p><p>If you set <span class="nctnt ncbi-monospace">_ITERATOR_DEBUG_LEVEL</span>, then <span class="nctnt ncbi-monospace">_SECURE_SCL</span> and <span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span> will be set according to this table:</p><div class="table" id="ch_faq.T.nc__iterator_debug_level_secure"><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">_ITERATOR_DEBUG_LEVEL</span></th><th align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">_SECURE_SCL</span></th><th align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span></th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">0</td><td align="left" valign="top" rowspan="1" colspan="1">0</td><td align="left" valign="top" rowspan="1" colspan="1">0</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">1</td><td align="left" valign="top" rowspan="1" colspan="1">1</td><td align="left" valign="top" rowspan="1" colspan="1">0</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">2</td><td align="left" valign="top" rowspan="1" colspan="1">1</td><td align="left" valign="top" rowspan="1" colspan="1">1</td></tr></tbody></table></div><p>If you don't set <span class="nctnt ncbi-monospace">_ITERATOR_DEBUG_LEVEL</span>, it will be set automatically according to the values of <span class="nctnt ncbi-monospace">_SECURE_SCL</span> and <span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span> per the above table. Therefore, you can use either <span class="nctnt ncbi-monospace">_ITERATOR_DEBUG_LEVEL</span> or <span class="nctnt ncbi-monospace">_SECURE_SCL</span> and <span class="nctnt ncbi-monospace">_HAS_ITERATOR_DEBUGGING</span> as you see fit. In most cases, you won't need to set any of them. You just need to know about them in case you link with libraries that use different settings.</p><p>For more information, see:</p><ul><li><p><a href="http://msdn.microsoft.com/en-us/library/aa985965.aspx">Checked Iterators</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/dd465215.aspx">What's New in Visual C++</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/bb531344.aspx">Breaking Changes in Visual C++</a></p></li></ul></div><div class="sec" id="ch_faq.C_exceptions"><h5><span class="title">C++ exceptions</span></h5><p>NCBI C++ Toolkit libraries use the <span class="nctnt ncbi-monospace">/EHsc</span> compiler option with Visual C++ to:</p><ul><li><p>ensure that C++ objects that will go out of scope as a result of the exception are destroyed;</p></li><li><p>ensure that only C++ exceptions should be caught; and</p></li><li><p>assume that extern C functions never throw a C++ exception.</p></li></ul><p>For more information, see the MSDN <a href="http://msdn.microsoft.com/en-us/library/1deeycx5.aspx">page</a> on <span class="nctnt ncbi-monospace">/EH</span>.</p></div><div class="sec" id="ch_faq.Runtime_library"><h5><span class="title">Runtime library</span></h5><p>You must specify the appropriate Visual C++ runtime library to link with:</p><div class="table" id="ch_faq.T.nc_configurationcompiler_option"><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1">Configuration</th><th align="left" valign="top" rowspan="1" colspan="1">Compiler Option</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">DebugDLL</td><td align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">/MDd</span></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">DebugMT</td><td align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">/MTd</span></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">ReleaseDLL</td><td align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">/MD</span></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">ReleaseMT</td><td align="left" valign="top" rowspan="1" colspan="1"><span class="nctnt ncbi-monospace">/MT</span></td></tr></tbody></table></div><p>For more information, see the MSDN <a href="http://msdn.microsoft.com/en-us/library/2kzt1wy3.aspx">page</a> on runtime library options.</p></div></div></div><div class="sec" id="ch_faq.linker"><h3><span class="title">Linking</span></h3><div class="sec" id="ch_faq.faq.CannotFindObjectSymbol"><h4><span class="title">How does one find the libraries to link when the linker complains of undefined symbols?</span></h4><p>Two tools are available to resolve the common linking questions:</p><div class="table" id="ch_faq.T.nc_questiontoolwhich_libraries_"><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1">Question</th><th align="left" valign="top" rowspan="1" colspan="1">Tool</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">Which libraries contain a given symbol?</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lib_search/libsearch.cgi?public=yes">Library search</a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">Which other libraries does a given library depend on?</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/dglistdeps.cgi">Library dependencies</a></td></tr></tbody></table></div><p>For example, suppose the linker complains about the symbol <span class="nctnt ncbi-func">ncbi::CIStreamBuffer::FindChar(char)</span> being undefined. Here is how to use these tools to resolve this problem:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">To find the library(s) where the unresolved symbol is defined, use the <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lib_search/libsearch.cgi?public=yes">Library search</a> tool:<br /><br />Using the example above, enter <span class="nctnt ncbi-monospace">FindChar</span> as a search term. The library where this symbol is defined is <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/depgraphs/xutil.html">libxutil.a (ncbi_core)</a>.<br /><br />Now that you have the library that defines the symbol, you can proceed to find the library dependencies it introduces. <span class="nctnt highlight">Note:</span> The simplest way to do this is by just clicking on the library in the search results to show its dependencies. Alternatively, you can proceed to step 2.<br /></p></dd><dt>2</dt><dd><p class="no_top_margin">The <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/dglistdeps.cgi">Library dependencies</a> tool finds all the other libraries that a given library depends on. This tool can also help you create the <span class="nctnt ncbi-monospace">LIB</span> and <span class="nctnt ncbi-monospace">LIBS</span> lines in your makefile. For example, enter your current <span class="nctnt ncbi-monospace">LIB</span> and <span class="nctnt ncbi-monospace">LIBS</span> lines plus the new library from step 1, and it will generate optimized <span class="nctnt ncbi-monospace">LIB</span> and <span class="nctnt ncbi-monospace">LIBS</span> lines containing the library needed for your symbol and any other needed libraries.<br /><br />Continuing with the example above, entering <span class="nctnt ncbi-monospace">libxutil.a</span> (or just <span class="nctnt ncbi-monospace">xutil</span>) will create this result:<br /><br /><span class="nctnt ncbi-code">LIB  = </span><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/xutil.html">xutil</a> <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/xncbi.html">xncbi</a><br /><span class="nctnt ncbi-code">LIBS = $(ORIG_LIBS)</span><br /><br />Clicking on any of the links will show the required items for that link plus a dependency graph for the clicked item. The nodes in the diagram are also navigable.</p></dd></dl><p><span class="nctnt highlight">Note:</span> If you are using Visual C++, please also see the question about <a href="ch_faq.html#ch_faq.How_do_I_add_a_library_to_a_Visua">adding libraries to Visual C++ projects</a>.</p><p>To make it easier to work with the NCBI C++ Toolkit's many libraries, we have generated illustrations of their dependency relationships, available for various scopes and in various formats: </p><div class="table" id="ch_faq.lib_depgraph"><div class="caption"><p>NCBI C++ Library Dependency Graphs (including internal libraries)</p></div><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1"></th><th align="left" valign="top" rowspan="1" colspan="1">GIF</th><th align="left" valign="top" rowspan="1" colspan="1">PNG</th><th align="left" valign="top" rowspan="1" colspan="1">PDF</th><th align="left" valign="top" rowspan="1" colspan="1">PostScript</th><th align="left" valign="top" rowspan="1" colspan="1">Text</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">All libraries </td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/depgraphs/depgraph-full.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-full.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/depgraphs/depgraph-full.txt">TXT</a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">Just C++ Toolkit libraries</td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/depgraphs/depgraph-c++.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-c++.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">Highly connected or otherwise noteworthy public libraries</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-core.gif">GIF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/depgraphs/depgraph-core.png">PNG</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/depgraphs/depgraph-core.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-core.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"></td></tr></tbody></table></div><div class="table" id="ch_faq.T4"><div class="caption"><p>NCBI C++ Library Dependency Graphs (public libraries only) </p></div><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1"></th><th align="left" valign="top" rowspan="1" colspan="1">GIF</th><th align="left" valign="top" rowspan="1" colspan="1">PNG</th><th align="left" valign="top" rowspan="1" colspan="1">PDF</th><th align="left" valign="top" rowspan="1" colspan="1">PostScript</th><th align="left" valign="top" rowspan="1" colspan="1">Text</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">All libraries</td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-public.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-public.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-public.txt">TXT</a></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">Non-GUI libraries</td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-public-nogui.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-public-nogui.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">GUI libraries</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-gui.gif">GIF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-gui.png">PNG</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-gui.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-gui.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"></td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">Highly connected or otherwise noteworthy public libraries</td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-core.gif">GIF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-core.png">PNG</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-core.pdf">PDF</a></td><td align="left" valign="top" rowspan="1" colspan="1"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/depgraph-core.ps">PS</a></td><td align="left" valign="top" rowspan="1" colspan="1"></td></tr></tbody></table></div><p>In cases where the above methods do not work, you can also search manually using the following steps:</p><dl class="labeled-list"><dt>1</dt><dd><p class="no_top_margin">Look for the source file that defines the symbol. This can be done by going to the <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=CDate">LXR source browser</a> and doing an identifier search on the symbol (e.g., <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=CDate&amp;d=">CDate</a> or <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=XmlEncode&amp;d=">XmlEncode</a>). Look for a source file where the identifier is defined (e.g. in the "Defined as a class in" section for <span class="nctnt ncbi-class">CDate</span>, or in the "Defined as a function in" section for <span class="nctnt ncbi-func">XmlEncode()</span>). For serializable object classes (such as <span class="nctnt ncbi-class">CDate</span>) look for the base class definition. Follow a link to this source file.</p></dd><dt>2</dt><dd><p class="no_top_margin">Near the top of the LXR page for the source file is a path, and each component of the path links to another LXR page. Click the link to the last directory.</p></dd><dt>3</dt><dd><p class="no_top_margin">The resulting LXR page for the directory should list the makefile for the library of interest (e.g. <span class="nctnt ncbi-path">Makefile.general.lib</span> for <span class="nctnt ncbi-func">CDate</span> or <span class="nctnt ncbi-path">Makefile.corelib.lib</span> for <span class="nctnt ncbi-func">XmlEncode()</span>). Click on the link to the makefile. You should see the LIB line with the name of the library that contains your symbol.</p></dd><dt>4</dt><dd><p class="no_top_margin">Add the library name to the list of libraries you already have and enter them into the <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/depgraphs/dglistdeps.cgi">library dependencies tool</a> to create your final LIB and LIBS lines.</p></dd></dl><p>In some cases, the library name is a variant on the subdirectory name. These variants are summarized in <a href="ch_faq.html#ch_faq.T1">Table 1</a>.</p><div class="table" id="ch_faq.T1"><div class="caption"><p>Table 1. Examples where the library name is a variant on the sub directory name</p></div><table><tbody><tr><th align="left" valign="top" rowspan="1" colspan="1">Directory</th><th align="left" valign="top" rowspan="1" colspan="1">Library</th></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">corelib/test</td><td align="left" valign="top" rowspan="1" colspan="1">test_mt</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">corelib</td><td align="left" valign="top" rowspan="1" colspan="1">xncbi</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">ctools/asn</td><td align="left" valign="top" rowspan="1" colspan="1">xasn</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">cgi</td><td align="left" valign="top" rowspan="1" colspan="1">xcgi or xfcgi</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">connect</td><td align="left" valign="top" rowspan="1" colspan="1">xconnect</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">connect/test</td><td align="left" valign="top" rowspan="1" colspan="1">xconntest</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">ctools</td><td align="left" valign="top" rowspan="1" colspan="1">xctools</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">html</td><td align="left" valign="top" rowspan="1" colspan="1">xhtml</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">objects/mmdb{1,2,3}</td><td align="left" valign="top" rowspan="1" colspan="1">mmdb (consolidated)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">objects/seq{,align,block,feat,loc,res}</td><td align="left" valign="top" rowspan="1" colspan="1">seq (consolidated) or $(SEQ_LIBS)</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">objmgr</td><td align="left" valign="top" rowspan="1" colspan="1">xobjmgr</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">objmgr/util</td><td align="left" valign="top" rowspan="1" colspan="1">xobjutil</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">objtools/alnmgr</td><td align="left" valign="top" rowspan="1" colspan="1">xalnmgr</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">serial</td><td align="left" valign="top" rowspan="1" colspan="1">xser</td></tr><tr><td align="left" valign="top" rowspan="1" colspan="1">util</td><td align="left" valign="top" rowspan="1" colspan="1">xutil</td></tr></tbody></table></div><p>Most often, difficulties arise when one is linking an application using the numerous <span class="nctnt ncbi-path">"objects/"</span> libraries. To give you some relief, here are some examples involving such libraries. They show the right order of libraries, as well as which libraries you may actually need. Using this as a starting point, it's <b>much</b> easier to find the right combination of libraries:</p><ul><li><p>first, to find and add missing libraries using the generic technique described above</p></li><li><p>then, try to throw out libraries which you believe are not actually needed</p></li></ul><pre><span class="nctnt-pre ncbi-code">LIB = id1 seqset $(SEQ_LIBS) pub medline biblio general \ <br />      xser xconnect xutil xncbi <br />LIB = ncbimime cdd cn3d mmdb scoremat seqset $(SEQ_LIBS) \ <br />      pub medline biblio general xser xutil xncbi</span></pre></div><div class="sec" id="ch_faq.How_do_I_add_a_library_to_a_Visua"><h4><span class="title">How do I add a library to a Visual C++ project?</span></h4><p>If you are using Visual C++, you should <a href="ch_faq.html#ch_faq.faq.CannotFindObjectSymbol">add the appropriate LIB and LIBS lines</a> to the <span class="nctnt ncbi-path">Makefile.&lt;your_project&gt;.app</span> file located in the source directory, then build the <b>-CONFIGURE-</b> target, then close and reopen the solution. This process will update the project properties with the proper search directories and required libraries.</p></div><div class="sec" id="ch_faq.ref_CannotFindSymbol"><h4><span class="title">Linker complains it "cannot find symbol" in something like: "SunWS_cache/CC_obj_b/bXmZkg3zX5VBJvYgjABX.o"</span></h4><p>Go to the relevant build dir, clean and rebuild everything using:</p><pre><span class="nctnt-pre ncbi-cmd">cd /home/qqq/c++/WorkShop6-Debug/build/FooBar <br />make purge_r all_r</span></pre></div><div class="sec" id="ch_faq.ref_HowMakeDep"><h4><span class="title">MAKE complains it does not know "how to make target: /home/qqq/c++/WorkShop6-Debug/lib/.seqset.dep"</span></h4><p>This means that the "<span class="nctnt ncbi-lib">libseqset.a</span>" library is not built. To build it:</p><pre><span class="nctnt-pre ncbi-cmd">cd /home/qqq/c++/WorkShop6-Debug/build/objects/seqset <br />make</span></pre></div><div class="sec" id="ch_faq.ref_LastResort"><h4><span class="title">Still getting bizarre errors with unresolved symbols, unfound libraries, etc., and nothing seems to help out much</span></h4><p>As the last resort, try to CVS update, reconfigure, clean and rebuild everything:</p><pre><span class="nctnt-pre ncbi-cmd">cd /home/qqq/c++/ <br />cvs -q upd -d <br />compilers/WorkShop6.sh 32 ........ <br />make purge_r <br />make all_r</span></pre></div></div><div class="sec" id="ch_faq.debugger"><h3><span class="title">Debugging</span></h3><div class="sec" id="ch_faq.ref_DBX_Sources"><h4><span class="title">Debugger (DBX) warns it "cannot find file /home/coremake/c++/foobar.cpp", then it does not show source code</span></h4><p>This happens when you link to the public C++ Toolkit libraries (from <span class="nctnt ncbi-path">"$NCBI/c++/*/lib/"</span>), which are built on other hosts and thus hard-coded with the source paths on these other hosts. All you have to do is to point DBX to the public sources (at <span class="nctnt ncbi-path">"$NCBI/c++"</span>) by just adding to your DBX resource file (<span class="nctnt ncbi-path">~/.dbxrc</span>) the following lines:</p><pre><span class="nctnt-pre ncbi-cmd">pathmap /home/coremake/c++ /netopt/ncbi_tools/c++ <br />pathmap /home/coremake/c++2 /netopt/ncbi_tools/c++ <br />pathmap /home/coremake/c++3 /netopt/ncbi_tools/c++ <br />pathmap /j/coremake/c++ /netopt/ncbi_tools/c++ <br />pathmap /j/coremake/c++2 /netopt/ncbi_tools/c++ <br />pathmap /j/coremake/c++3 /netopt/ncbi_tools/c++</span></pre></div></div><div class="sec" id="ch_faq.asn"><h3><span class="title">ASN</span></h3><div class="sec" id="ch_faq.ref_AddingUserASN"><h4><span class="title">Creating an out-of-tree application that uses your own local ASN.1 spec and a pre-built C++ Toolkit</span></h4><p>Lets say you have your ASN.1 specification (call it <span class="nctnt ncbi-path">foo.asn</span>) and now you want to build an application (call its source code <span class="nctnt ncbi-path">foo_main.cpp</span>) which performs serialization of objects described in <span class="nctnt ncbi-path">foo.asn</span>. To complicate things, lets also assume that your ASN.1 spec depends on (imports) one of the ASN.1 specs already in the C++ Toolkit, like <span class="nctnt ncbi-monospace">Date</span> described in the <span class="nctnt ncbi-monospace">NCBI-General</span> module of <span class="nctnt ncbi-path">general.asn</span>. For example, your <span class="nctnt ncbi-path">foo.asn</span> could look like:</p><pre><span class="nctnt-pre ncbi-cmd">NCBI-Foo DEFINITIONS ::= <br />BEGIN <br />EXPORTS Foo; <br />IMPORTS Date FROM NCBI-General; <br />Foo ::= SEQUENCE { <br />    str  VisibleString, <br />    date Date <br />} <br />END</span></pre><p>Now, lets assume that the pre-built version of the NCBI C++ Toolkit is available at <span class="nctnt ncbi-path">$NCBI/c++</span>, and that you want to use the Toolkit's pre-built sources and libraries in your application. First, generate (using <a href="ch_app.html#ch_app.datatool">datatool</a>) the serialization sources, and create the serialization library:</p><pre><span class="nctnt-pre ncbi-cmd">## Create new project directory, with a model makefile for your<br />## local ASN.1 serialization library, and copy "foo.asn"<br />cd ~/tmp<br />new_project foo lib/asn<br />cd foo <br />cp /bar/bar/bar/foo.asn .<br /><br />## Using DATATOOL, generate data serialization sources for your<br />## ASN.1 specs described in "foo.asn":<br />datatool -oR $NCBI/c++ -m foo.asn \<br /> -M "objects/general/general.asn" -oA -oc foo -opc . -oph .<br /><br />## Adjust in the library makefile "Makefile.foo.lib"<br />SRC = foo__ foo___<br /><br />## Build the library<br />make -f Makefile.foo_lib</span></pre><p>Then, create and build the application:</p><pre><span class="nctnt-pre ncbi-cmd">## Create new application project, and copy your app sources.<br />new_project foo_main app<br />cd foo_main<br />cp /bar/bar/bar/foo_main.cpp .<br /><br />## Adjust the application makefile "Makefile.foo_main.app"<br />PRE_LIBS = -L.. -lfoo<br />CPPFLAGS = -I.. $(ORIG_CPPFLAGS)<br />LIB = general xser xutil xncbi<br /><br />## Build the application<br />make -f Makefile.foo_main_app</span></pre></div><div class="sec" id="ch_faq.ref_AddingASN"><h4><span class="title">How to add new ASN.1 specification to the C++ Toolkit?</span></h4><p><span class="nctnt highlight">Caution!</span> If you are not in the C++ core developers group, please do not do it yourself! -- instead, just send your request to <span class="nctnt ncbi-monospace">cpp-core@ncbi.nlm.nih.gov</span>.</p></div><div class="sec" id="ch_faq.ref_CToCxxASN"><h4><span class="title">Converting ASN.1 object in memory from C to C++ representation (or vice versa)</span></h4><p>The C++ Toolkit header <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/source/include/ctools/asn_converter.hpp">ctools/asn_converter.hpp</a> now provides a template class (<a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident?i=CAsnConverter&amp;d=C">CAsnConverter&lt;&gt;</a>) for this exact purpose.</p></div></div></div><div class="sec" id="ch_faq.links.html"><h2><span class="title">Useful Documentation Links</span></h2><ul><li><p><a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2005/n1905.pdf">[Doc] ISO/ANSI C++ Draft Standard Working Papers (Intranet only)</a></p></li><li><p><a href="http://search.microsoft.com/?mkt=en-US">[Doc] MSDN Online Search </a></p></li><li><p><a href="app1.appendix1.html#app1.books.html">[Literature] Books and links to C++ and STL manuals</a></p></li><li><p><a href="ch_proj.html#ch_proj.makefile_hierarchy">[Example] NCBI C++ makefile hierarchy for project "corelib/"</a></p></li><li><p><a href="ch_start.html#ch_start.F1">[Chart] NCBI C++ source tree hierarchy</a></p></li><li><p><a href="ch_start.html#ch_start.F2">[Chart] NCBI C++ build tree hierarchy</a></p></li><li><p><a href="ch_faq.html#ch_faq.lib_depgraph">[Chart] NCBI C++ Library Dependency graph</a></p></li><li><p><a href="https://sp.ncbi.nlm.nih.gov/IEB/pss/idxapi/Shared Documents/Forms/AllItems.aspx">[Doc] NCBI IDX Database Documentation (Intranet only)</a></p></li><li><p><a href="ch_style.html">[Doc] Documentation styles</a></p></li></ul></div><div class="sec" id="ch_faq.mailing_lists"><h2><span class="title">Mailing Lists</span></h2><ul><li><p>Announcements: <a href="http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-announce">http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-announce</a> (read-only)</p></li><li><p>Everybody: <a href="http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp">http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp</a></p></li><li><p>Core developers: <a href="http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-core">http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-core</a></p></li><li><p>Object Manager: <a href="http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-objmgr">http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-objmgr</a></p></li><li><p>GUI: <a href="http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-gui">http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-gui</a></p></li><li><p>SVN and CVS logs: <a href="http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-cvs">http://www.ncbi.nlm.nih.gov/mailman/listinfo/cpp-cvs</a> (read-only)</p></li></ul><p><a href="http://intranet.ncbi.nlm.nih.gov/wiki-private/CxxToolkit/index.cgi/Internal_Mailing_Lists">Internal mailing lists</a> are also available to those inside NCBI.</p></div></div></div><div class="col four_col last"><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>In this page</h3></div></div><div class="portlet_content"><ul><li><a href="#ch_faq.">FAQs</a></li><li><a href="#ch_faq.links.html">Useful Documentation Links</a></li><li><a href="#ch_faq.mailing_lists">Mailing Lists</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Download</h3></div></div><div class="portlet_content"><ul><li><a href="pdf/ch_faq.pdf">PDF version of this page</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Search</h3></div></div><div class="portlet_content"><form name="frmSymbolSearch" onsubmit="return SymbolSearch('toolkit')" action="/" id="frmSymbolSearch"><table><tbody><tr align="center" valign="middle"><td colspan="2" nowrap="nowrap"><input name="__symbol" size="22" style="vertical-align:                                          middle;" onkeypress="SymbolSearchKeyPress('toolkit',event)" type="text" />   <input value="Search" style="vertical-align: middle;" onclick="javasrcipt:SymbolSearch('toolkit');" type="button" /></td></tr><tr class="internal-only"><th style="text-align:left">Public</th><th style="text-align:left">Internal</th></tr><tr><td><input id="pToolkitAll" name="__symboloc" type="radio" checked="checked" /><span title="Search in the C/C++ source code and in this Book">All</span></td><td class="internal-only"><input id="iToolkitAll" name="__symboloc" type="radio" /><span title="Search in the C/C++ source code,  this Book, and Wiki">All</span></td></tr><tr><td><input id="pLXR" name="__symboloc" type="radio" /><span title="Search the symbol in the source code using LINUX Cross-Reference browser">LXR</span></td><td class="internal-only"><input id="iLXR" name="__symboloc" type="radio" /><span title="Search the symbol in the source code using LINUX Cross-Reference browser">LXR</span></td></tr><tr><td><input id="pLib" name="__symboloc" type="radio" /><span title="Locate the Toolkit library(es) where the symbol is defined">Library</span></td><td class="internal-only"><input id="iLib" name="__symboloc" type="radio" /><span title="Locate the Toolkit library(es) where the symbol is defined">Library</span></td></tr></tbody></table></form></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Source Browsers</h3></div></div><div class="portlet_content"><ul><li class="external-only"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">LXR</a></li><li class="external-only"><a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">Doxygen</a></li><li class="internal-only">LXR: <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/lxr/ident">public</a> / <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/lxr/ident">internal</a></li><li class="internal-only">Doxygen: <a href="http://www.ncbi.nlm.nih.gov/IEB/ToolBox/CPP_DOC/doxyhtml">public</a> / <a href="http://intranet.ncbi.nlm.nih.gov/ieb/ToolBox/CPP_DOC/doxyhtml">internal</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>SVN Source Repository</h3></div></div><div class="portlet_content"><ul><li><a href="http://www.ncbi.nlm.nih.gov/bookshelf/br.fcgi?book=toolkit&amp;part=ch_getcode_svn#ch_getcode_svn.code_retrieval">Server</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/trunk/c++">Web
                            (dev)</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/trunk/internal/c++">Web
                            (extra)</a></li><li><a href="https://svn.ncbi.nlm.nih.gov/viewvc/toolkit/production/components">Web (prod)</a></li></ul></div></div><div class="portlet"><div class="portlet_head"><div class="portlet_title"><h3>Resources</h3></div></div><div class="portlet_content"><ul><li class="internal-only"><a href="http://intranet.ncbi.nlm.nih.gov/wiki-private/CxxToolkit">Wiki</a></li><li class="internal-only"><a href="http://jira/browse/CXX">JIRA</a></li><li class="internal-only"><a href="http://intranet/ieb/ToolBox/STAT/test_stat/test_stat_ext.cgi"><span title="View results of testsuite runs on the automatic C++ Toolkit builds">Testsuite</span></a></li><li><a href="release_notes.html">Release Notes</a></li><li><a href="ch_getcode_svn.html#ch_getcode_svn.ftp_download">Download</a></li><li><a href="pdf/TOC.pdf">PDF of the book</a></li><li><a href="ch_style.html">Coding Style</a></li><li><a href="ch_faq.html#ch_faq.mailing_lists">Mailing Lists</a></li><li><a href="mailto:CPP-CORE@NCBI.NLM.NIH.GOV"><span title="Contact C++ Toolkit group">Help and Support</span></a></li></ul></div></div></div></div></div></div></body></html>
