 <!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Standard NCBI C++ types and their limits</title>
  </head>

  <body>
	 <h1>Standard NCBI C++ types and their limits</h1>

	 <ul>
		<li> <a href="#ref_Headers">Headers to look into</a>
		<li> <a href="#ref_Int">Built-in integral types</a>
		<li> <a href="#ref_Aux">Auxiliary types</a>
		<li> <a href="#ref_IntFixed">Fixed-size integer types</a>
		<li> <a href="#ref_BigScalar">The <i>"Ncbi_BigScalar"</i> type</a>
		<li> <a href="#ref_Policy">Encouraged and discouraged types</a>
	 </ul>

	 <br></br>
	 <a name="ref_Headers"></a>
	 <h2>Headers to look into</h2>

	 <ul>
		<li> <a href="http://ray.nlm.nih.gov:6224/intranet/ieb/CPP/lxr/http/source/include/corelib/ncbitype.h">corelib/ncbitype.h</a> --
		  definitions of NCBI fixed-size integer types
		</li>

		<li> <a href="http://ray.nlm.nih.gov:6224/intranet/ieb/CPP/lxr/http/source/include/corelib/ncbi_limits.h">corelib/ncbi_limits.h</a> --
		  numeric limits for:
		  <ul>
			 <li> NCBI fixed-size integer types </li>
			 <li> built-in integer types </li>
			 <li> built-in floating-point types </li>
		  </ul>
		</li>

		<li> <a href="http://ray.nlm.nih.gov:6224/intranet/ieb/CPP/lxr/http/source/include/corelib/ncbi_limits.hpp">corelib/ncbi_limits.hpp</a> --
		  temporary (and incomplete) replacement for the
		  Standard C++ Template Library's <a href="http://www.cygnus.com/misc/wp/dec96pub/lib-support.html#lib.limits"><i>numeric_limits&lt;&gt;</i></a> API
		</li>
	 </ul>
	 

	 <br></br>
	 <a name="ref_Int"></a>
	 <h2>Built-in integral types</h2>

	 We <a href="#ref_Policy">encourage</a> the use of following standard
	 C/C++ types, and we state that the following assumptions
	 (no less, no more) on their sizes and limits will be valid
	 for all supported platforms:

	 <br></br>
	 <a name="ref_TableIntStd">
		<table border=1 cellspacing=0>
		  <caption>Table 1</caption>
		  <tr>
			 <th>Name</th>
			 <th>Size(bytes)</th>
			 <th>Min</th>
			 <th>Max</th>
			 <th>Note</th>
		  </tr>
		  <tr>
			 <td><i>char</i></td>
			 <td>1</td>
			 <td><i>kMin_Char</i> <br> (0 or -128)</td>
			 <td><i>kMax_Char</i> <br> (256 or 127)</td>
			 <td>It can be either <a href="http://www.cygnus.com/misc/wp/dec96pub/basic.html#basic.fundamental">signed or unsigned</a>!
				Use it wherever you dont care of +/-
				(e.g. in character strings).
			 </td>
		  </tr>
		  <tr>
			 <td><i>signed char</i></td>
			 <td>1</td>
			 <td><i>kMin_SChar</i> <br> (-128)</td>
			 <td><i>kMax_SChar</i> <br> (127)</td>
			 <td></td>
		  </tr>
		  <tr>
			 <td><i>unsigned char</i></td>
			 <td>1</td>
			 <td><i>kMin_UChar</i> <br> (0)</td>
			 <td><i>kMax_UChar</i> <br> (255)</td>
			 <td></td>
		  </tr>
		  <tr>
			 <td><i>short, signed short</i></td>
			 <td>2 or more</td>
			 <td><i>kMin_Short</i> <br> (-32768 or less)</td>
			 <td><i>kMax_Short</i> <br> (32767 or greater)</td>
			 <td>Use <i>"int"</i> if size isn't critical</td>
		  </tr>
		  <tr>
			 <td><i>usigned short</i></td>
			 <td>2 or more</td>
			 <td><i>kMin_UShort</i> <br> (0)</td>
			 <td><i>kMax_UShort</i> <br> (65535 or greater)</td>
			 <td>Use <i>"unsigned int"</i> if size isn't critical</td>
		  </tr>
		  <tr>
			 <td><i>int,<br>signed int</i></td>
			 <td>4 or more</td>
			 <td><i>kMin_Int</i> <br> (-2147483648 or less)</td>
			 <td><i>kMax_Int</i> <br> (2147483647 or greater)</td>
			 <td></td>
		  </tr>
		  <tr>
			 <td><i>unsigned int</i></td>
			 <td>4 or more</td>
			 <td><i>kMin_UInt</i> <br> (0)</td>
			 <td><i>kMax_UInt</i> <br> (4294967295 or greater)</td>
			 <td></td>
		  </tr>
		  <tr>
			 <td><i>double</i></td>
			 <td>4 or more</td>
			 <td><i>kMin_Double</i></td>
			 <td><i>kMax_Double</i></td>
			 <td></td>
		  </tr>
		</table>

	 <p>
		Types <i>"long"</i> and <i>"float"</i> are
		<a href="#ref_Policy">discouraged</a> to use in the portable code.<br>
		Type <i>"long long"</i> is <b>prohibited</b> to use in the portable code.


	 <br></br>
	 <br></br>
	 <a name="ref_Aux"></a>
	 <h2>Auxiliary types</h2>
	 
	 <p>
	 <b>Use</b> type <i>"bool"</i> to represent boolean values.
	 It accepts one of { <i>false</i>, <i>true</i> }.

	 <p>
	 <b>Use</b> type <i>"size_t"</i> to represent a size of memory
	 structure, e.g. obtained as a result of <i>sizeof</i> operation.

	 <p>
	 <b>Use</b> type <i>"SIZE_TYPE"</i> to represent a size of standard
	 C++ <i>"string"</i>, -- this is a portable substitution for
	 <i>"std::string::size_type"</i>.


	 <br></br>
	 <br></br>
	 <a name="ref_IntFixed"></a>
	 <h2>Fixed-size integer types</h2>
	 
	 <p>
	 Sometimes it is necessary to use an integer type which:
	 <ul>
		<li> has a well-known fixed size(and lower/upper limits) 
		<li> be just the same on all platforms(but maybe a byte/bit order,
		depending on the processor architecture)
	 </ul>
	 NCBI C++ standard headers provide the following fixed-size
	 integer types:

	 <br></br>
	 <a name="ref_TableIntFixed">
		<table border=1 cellspacing=0>
		  <caption>Table 2</caption>
		  <tr>
			 <th>Name</th>
			 <th>Size(bytes)</th>
			 <th>Min</th>
			 <th>Max</th>
		  </tr>
		  <tr>
			 <td><i>Char, Int1</i></td>
			 <td>1</td>
			 <td>kMin_I1</td>
			 <td>kMax_I1</td>
		  </tr>
		  <tr>
			 <td><i>Uchar, Uint1</i></td>
			 <td>1</td>
			 <td>0</td>
			 <td>kMax_UI1</td>
		  </tr>
		  <tr>
			 <td><i>Int2</i></td>
			 <td>2</td>
			 <td>kMin_I2</td>
			 <td>kMax_I2</td>
		  </tr>
		  <tr>
			 <td><i>Uint2</i></td>
			 <td>2</td>
			 <td>0</td>
			 <td>kMax_UI2</td>
		  </tr>
		  <tr>
			 <td><i>Int4</i></td>
			 <td>4</td>
			 <td>kMin_I4</td>
			 <td>kMax_I4</td>
		  </tr>
		  <tr>
			 <td><i>Uint4</i></td>
			 <td>4</td>
			 <td>0</td>
			 <td>kMax_UI4</td>
		  </tr>
		  <tr>
			 <td><i>Int8</i></td>
			 <td>8</td>
			 <td>kMin_I8</td>
			 <td>kMax_I8</td>
		  </tr>
		  <tr>
			 <td><i>Uint8</i></td>
			 <td>8</td>
			 <td>0</td>
			 <td>kMax_UI8</td>
		  </tr>
		</table>

	 <p>
	 Here, the <i>"kM*_*"</i> are constants of relevant fixed-size
	 integer type. They are <b>guaranteed</b> to be equal to the
	 appropriate "preprocessor constants" from the old NCBI C
	 headers(<i>"INT*_M*"</i>). Please also note that the mentioned
	 <i>"INT*_M*"</i> are <b>not defined</b> in the C++ headers -- in order
	 to discourage their use in the C++ code.


	 <br></br>
    <table border=1 cellspacing=0 rules="groups">
		<caption>Table 3</caption>
		<thead>
		  <tr>
			 <th>Constant(NCBI C++)</th>
			 <th>Value</th>
			 <th>Define(NCBI C)</h>
		  </tr>
		  <tbody>
			 <tr>
				<td><i>kMin_I1</i></td>
				<td>-128</td>
				<td><i>INT1_MIN</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_I1</i></td>
				<td>+127</td>
				<td><i>INT1_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_UI1</i></td>
				<td>+255</td>
				<td><i>UINT1_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMin_I2</i></td>
				<td>-32768</td>
				<td><i>INT2_MIN</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_I2</i></td>
				<td>+32767</td>
				<td><i>INT2_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_UI2</i></td>
				<td>+65535</td>
				<td><i>UINT2_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMin_I4</i></td>
				<td>-2147483648</td>
				<td><i>INT4_MIN</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_I4</i></td>
				<td>+2147483647</td>
				<td><i>INT4_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_UI4</i></td>
				<td>+4294967295</td>
				<td><i>UINT4_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMin_I8</i></td>
				<td>-9223372036854775808</td>
				<td><i>INT8_MIN</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_I8</i></td>
				<td>+9223372036854775807</td>
				<td><i>INT8_MAX</i></td>
			 </tr>
			 <tr>
				<td><i>kMax_UI8</i></td>
				<td>+18446744073709551615</td>
				<td><i>UINT8_MAX</i></td>
			 </tr>
	 </table>


	 <br></br>
	 <a name="ref_BigScalar"></a>
	 <h2>The <i>"Ncbi_BigScalar"</i> type</h2>

	 <p>
	 NCBI C++ standard headers also define a special type
	 <i>"Ncbi_BigScalar"</i>.
	 The only assumption that can be made(and used in your code) is
	 that <i>"Ncbi_BigScalar"</i> variable has a size which is enough to hold
	 any integral, floating-point or pointer variable
	 like <i>"Int8"</i>, or <i>"double"("long double")</i>, or <i>"void*"</i>.
	 This type can be useful e.g. to hold a callback data of arbitrary
	 fundamental type; however, in general, the use of this type is
	 <b>discouraged</b>.

	 <br></br>
	 <br></br>
	 <a name="ref_Policy"></a>
	 <h2>Encouraged and discouraged types</h2>
	 
	 <p>
	 For the sake of code portability and for better compatibility with
	 the third-party and system libraries, one should follow the following
	 set of rules:
	 <ul>
		<li> Use standard C/C++ integer types
		<i> "char", "signed char", "unsigned char",
		  "short", "unsigned short", "int", "unsigned int"</i>
		in <b>any</b> case where the assumptions made for them in
		<a href="#ref_TableIntStd">Table 1</a>
		are enough.
		<li> It is not recommended to use <i>"long"</i> type unless it is
		absolutely necessary (e.g. in the lower-level or third-party
		code), and even if you have to, then try to localize the use of
		<i>"long"</i> as much as possible.
		<li> The same(as for <i>"long"</i>) is for the fixed-size types
		enlisted in <a href="#ref_TableIntFixed">Table 3</a>. -- If you
		<b>have to</b> use these in your code, try to keep them inside
		your modules and avoid mixing them with standard C/C++ types
		(as in assignments, function arg-by-value passing and in arithmetic
		expressions) as much as possible.
		<li> For the policy on other types see in sections
		<a href="#ref_Aux">"Auxiliary types"</a>
		and <a href="#ref_Float">"Floating point types"</a>.
	 </ul>

	 <br></br>
	 <hr>
	 <table border=0 width="100%" cellspacing=0>
		<tr>
		  <td><address><a href="mailto:vakatov@ncbi.nlm.nih.gov">Denis Vakatov</a></address></td>
		  <!-- <td align=center><i>$Revision$</i></td> -->
		  <td align=right><i>$Date$</i></td>
	 </table>
  </body>
</html>
